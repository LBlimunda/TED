<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pre-print Acadêmico: Teorema da Entropia Democrática</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body { font-family: Times New Roman, serif; margin: 40px; background-color: #fff; color: #000; line-height: 1.5; }
.container { max-width: 900px; margin: auto; }
h1 { text-align: center; font-size: 2em; }
h2 { font-size: 1.5em; margin-top: 2em; }
h3 { font-size: 1.2em; margin-top: 1.5em; }
.formula { background: #f0f0f0; padding: 10px; border-left: 5px solid #2c3e50; font-family: monospace; margin: 10px 0; }
table { border-collapse: collapse; width: 100%; margin: 10px 0; }
th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
th { background-color: #eee; }
#nCritOutput { font-weight: bold; margin: 10px 0; font-size: 1.1em; }
.legend { font-size: 0.9em; margin-top: 10px; }
.license { font-size: 0.8em; text-align: center; margin-top: 20px; }
</style>
</head>
<body>
<div class="container">
<h1>Teorema da Entropia Democrática</h1>
<div class="license">
<p>© Lara Raquel Rodrigues Branco Arsénio, 2025. Licenciado sob <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</p>
</div>

<h2>1. Resumo</h2>
<p>A democracia em larga escala apresenta convergência para resultados medianos devido à qualidade do voto coletivo, representada pela variável Qualidade de Vida (Q). Pressão por coesão grupal faz decisões coletivas convergirem para o mínimo denominador comum, comprometendo Q, que se estabiliza em valores medianos (~50). Para grandes populações, observa-se entropia absoluta, definida como SD(Q) ≤ 1, identificando-se um ponto crítico de entropia N<sub>crit</sub>.</p>

<h2>2. Introdução</h2>
<p>O Teorema da Entropia Democrática (TED) fornece uma formulação matemática para quantificar a tendência de sistemas democráticos majoritários convergirem para resultados medianos em função da escala populacional.</p>

<h2>3. Modelo e Hipóteses</h2>
<p>Preferências individuais p_i ∈ [0,1] seguem distribuição normal (média 0.5, desvio padrão 0.2). A decisão coletiva é definida como:</p>
<div class="formula">
<p>Q<sub>n</sub> = 100 &middot; med(p<sub>1</sub>, p<sub>2</sub>, ..., p<sub>n</sub>)<br>
σ(Q<sub>n</sub>) = 50 / (f(&mu;) &radic;n)</p>
</div>
<p>Entropia absoluta: SD(Q) ≤ 1. Ponto crítico N<sub>crit</sub> é o menor n em que essa condição é satisfeita.</p>

<h2>4. Simulação e Resultados</h2>
<canvas id="entropyChart" width="800" height="400"></canvas>
<p id="nCritOutput"></p>

<h3>4.1 Tabela de Estatísticas</h3>
<table>
<tr><th>n</th><th>Média Qₙ</th><th>SD(Qₙ)</th></tr>
<tr><td>100</td><td id="mean100"></td><td id="sd100"></td></tr>
<tr><td>5000</td><td id="mean5000"></td><td id="sd5000"></td></tr>
<tr><td>20000</td><td id="mean20000"></td><td id="sd20000"></td></tr>
<tr><td>100000</td><td id="mean100000"></td><td id="sd100000"></td></tr>
</table>

<h3>4.2 Legenda do Gráfico</h3>
<p class="legend">Linhas coloridas representam diferentes tamanhos de amostra n. Linha preta tracejada indica o ponto de entropia Q = 50. Quanto maior n, menor a variabilidade, ilustrando claramente o ponto crítico N<sub>crit</sub>.</p>

<h2>5. Discussão</h2>
<p>Observa-se que, a partir de N<sub>crit</sub>, a variabilidade de Q torna-se insignificante. Este resultado confirma que sistemas democráticos em larga escala tendem a resultados medianos, independentemente das preferências individuais.</p>

<h2>6. Conclusão</h2>
<p>O Teorema da Entropia Democrática demonstra matematicamente a imposição estrutural da mediocridade coletiva em grandes populações e fornece um valor crítico N<sub>crit</sub> a partir do qual a entropia é garantida.</p>

<div class="license">
<p>© Lara Raquel Rodrigues Branco Arsénio, 2025. Licenciado sob <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</p>
</div>

<script>
// Funções matemáticas
function randomNormal(mean,std){ const u1=Math.random(); const u2=Math.random(); const z=Math.sqrt(-2*Math.log(u1))*Math.cos(2*Math.PI*u2); return mean+std*z; }
function median(arr){ arr.sort((a,b)=>a-b); const h=Math.floor(arr.length/2); return arr.length%2 ? arr[h] : (arr[h-1]+arr[h])/2; }
function simulateQn(n,sims){ const res=[]; for(let i=0;i<sims;i++){ const props=[]; for(let j=0;j<n;j++){ let p=randomNormal(0.5,0.2); props.push(Math.min(Math.max(p,0),1)); } res.push(100*median(props)); } return res; }

// Parâmetros
const sampleSizes=[100,5000,20000,100000];
const simsPerN=100;
const colors=['blue','green','orange','red'];
const ctx=document.getElementById('entropyChart').getContext('2d');

const chartData={ labels:Array.from({length:simsPerN},(_,i)=>i+1), datasets:[] };
let nCrit=null;

// Preencher tabela e calcular N_crit
sampleSizes.forEach((n,i)=>{
    const qVals=simulateQn(n,simsPerN);
    const mean = qVals.reduce((a,b)=>a+b,0)/qVals.length;
    const sd = Math.sqrt(qVals.reduce((a,b)=>a+Math.pow(b-mean,2),0)/qVals.length);
    document.getElementById(`mean${n}`).innerText=mean.toFixed(2);
    document.getElementById(`sd${n}`).innerText=sd.toFixed(2);
    if(nCrit===null && sd<=1) nCrit=n;

    chartData.datasets.push({
        label:`n = ${n}`,
        data:qVals,
        borderColor:colors[i],
        fill:false,
        tension:0.2,
        pointRadius:2
    });
});

// Linha ponto de entropia
chartData.datasets.push({
    label:'Ponto de entropia (50)',
    data:Array(simsPerN).fill(50),
    borderColor:'black',
    borderDash:[5,5],
    fill:false,
    pointRadius:0
});

// Inicializar gráfico
new Chart(ctx,{
    type:'line',
    data:chartData,
    options:{
        responsive:true,
        plugins:{ tooltip:{enabled:true,mode:'index',intersect:false}, legend:{display:true,position:'top'} },
        scales:{ x:{title:{display:true,text:'Replicação'}}, y:{title:{display:true,text:'Q_n'},min:0,max:100} }
    }
});

// Mostrar N_crit
document.getElementById('nCritOutput').innerText=`Ponto crítico de entropia (N_crit): ${nCrit} votantes`;
</script>

</body>
</html>
